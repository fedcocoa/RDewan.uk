<html>
  <link rel="stylesheet" type="text/css" href="index.css">
  <title>RD.js - Blank Template</title>
  <body>
    <canvas id="canvas">
    <script type="text/javascript" src="RD.js"></script>
    <script>
      canvasCheck();
      if(window.innerHeight > window.innerWidth) {
        canvasSize(window.innerWidth,window.innerWidth);
      }else {
        canvasSize(window.innerHeight,window.innerHeight);
      }

      let size = 150;
      let pieces = [];
      let pieceSize = 5;
      let offset = 0;
      let pieceColour = "rgb(74, 131, 120)";

      for(let x = 0; x != size; x++) {
        for(let y = 0; y != size; y++) {
          let tempPiece = new Rect(new Point(offset+x*canvas.width/size,offset+y*canvas.width/size),pieceSize,pieceSize,RGBStr(x*y*.03,y*.6+80,x*2+100),"fill");
          pieces.push(tempPiece);
        }
      }

      let factor = 1;

      function changeColour() {
        for(var i = 0; i != pieces.length; i++) {
          currentPiece = pieces[i];
          currentPiece.colour = RGBStr(currentPiece.x*currentPiece.y*factor,currentPiece.y*factor,currentPiece.x*factor);
        }
        factor++;
      }
      
      setInterval(changeColour,100);
      
    </script>
  </body>
</html>
